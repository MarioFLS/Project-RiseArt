{"ast":null,"code":"var _jsxFileName = \"/home/mario/Projetos Github/site-image/src/Pages/Home.jsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport ListGallery from '../Components/ListGallery';\nimport ArtContext from '../context/ArtContext';\nimport '../css/Home.css';\nimport { saveArt } from '../service/saveStorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  const addArt = event => {\n    event.preventDefault();\n    const imageFile = event.target.parentNode.firstChild.files[0];\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      if (reader.readyState === 2) {\n        const id = gallery.at(-1).id + 1;\n        saveArt(id, reader.result);\n        setGallery(preves => [...preves, {\n          id,\n          image: reader.result\n        }]);\n      }\n    };\n\n    reader.readAsDataURL(imageFile);\n    const valueInput = event.target.parentNode.firstChild;\n    valueInput.value = null;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"main-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/png, image/jpeg\",\n        onSubmit: addArt\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: addArt,\n        children: \"Enviar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListGallery, {\n      onScreen: galleryonScreen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/mario/Projetos Github/site-image/src/Pages/Home.jsx"],"names":["React","useContext","useEffect","useState","ListGallery","ArtContext","saveArt","Home","addArt","event","preventDefault","imageFile","target","parentNode","firstChild","files","reader","FileReader","onload","readyState","id","gallery","at","result","setGallery","preves","image","readAsDataURL","valueInput","value","galleryonScreen"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,OAAO,iBAAP;AACA,SAASC,OAAT,QAAwB,wBAAxB;;;AAEA,SAASC,IAAT,GAAgB;AACd,QAAMC,MAAM,GAAIC,KAAD,IAAW;AACxBA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,SAAS,GAAGF,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBC,UAAxB,CAAmCC,KAAnC,CAAyC,CAAzC,CAAlB;AACA,UAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;;AACAD,IAAAA,MAAM,CAACE,MAAP,GAAgB,MAAM;AACpB,UAAIF,MAAM,CAACG,UAAP,KAAsB,CAA1B,EAA6B;AAC3B,cAAMC,EAAE,GAAGC,OAAO,CAACC,EAAR,CAAW,CAAC,CAAZ,EAAeF,EAAf,GAAoB,CAA/B;AACAd,QAAAA,OAAO,CAACc,EAAD,EAAKJ,MAAM,CAACO,MAAZ,CAAP;AACAC,QAAAA,UAAU,CAAEC,MAAD,IAAa,CAAC,GAAGA,MAAJ,EAAY;AAAEL,UAAAA,EAAF;AAAMM,UAAAA,KAAK,EAAEV,MAAM,CAACO;AAApB,SAAZ,CAAd,CAAV;AACD;AACF,KAND;;AAOAP,IAAAA,MAAM,CAACW,aAAP,CAAqBhB,SAArB;AACA,UAAMiB,UAAU,GAAGnB,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBC,UAA3C;AACAc,IAAAA,UAAU,CAACC,KAAX,GAAmB,IAAnB;AACD,GAdD;;AAeA,sBACE;AAAM,IAAA,SAAS,EAAC,gBAAhB;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA,8BACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,MAAM,EAAC,uBAA1B;AAAkD,QAAA,QAAQ,EAAErB;AAA5D;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAEA,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAOE,QAAC,WAAD;AAAa,MAAA,QAAQ,EAAEsB;AAAvB;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAWD;;KA3BQvB,I;AA6BT,eAAeA,IAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport ListGallery from '../Components/ListGallery';\nimport ArtContext from '../context/ArtContext';\nimport '../css/Home.css';\nimport { saveArt } from '../service/saveStorage';\n\nfunction Home() {\n  const addArt = (event) => {\n    event.preventDefault();\n    const imageFile = event.target.parentNode.firstChild.files[0];\n    const reader = new FileReader();\n    reader.onload = () => {\n      if (reader.readyState === 2) {\n        const id = gallery.at(-1).id + 1;\n        saveArt(id, reader.result);\n        setGallery((preves) => ([...preves, { id, image: reader.result }]));\n      }\n    };\n    reader.readAsDataURL(imageFile);\n    const valueInput = event.target.parentNode.firstChild;\n    valueInput.value = null;\n  };\n  return (\n    <main className=\"main-container\">\n      <h1>Home</h1>\n      <form>\n        <input type=\"file\" accept=\"image/png, image/jpeg\" onSubmit={addArt} />\n        <button type=\"submit\" onClick={addArt}>Enviar</button>\n      </form>\n\n      <ListGallery onScreen={galleryonScreen} />\n    </main>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}